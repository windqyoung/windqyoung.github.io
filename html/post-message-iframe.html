<!DOCTYPE html>
<html>
    <head>
        <title>Post Message Recv</title>
        <meta charset="UTF-8">
        <style>
            /** 生成css */

            .head {
                color: red;
            }
            .block {
                border-bottom: 1px solid black;
            }
        </style>
    </head>
    <body>
        <div>Messages</div>
        <div id="msg" style="font-size: 10px;"></div>
<script>
let encode = document.createElement('div');
let msgEle = document.querySelector('#msg');

window.addEventListener('message', function (e) {
    let data = e.data;
    let jsonStr = JSON.stringify(data);
    encode.textContent = jsonStr;
    msgEle.insertAdjacentHTML('afterbegin', `<div class="block"><div class="head">${Date()}:</div>${encode.innerHTML}</div>`);
});


</script>



    </body>
</html>
